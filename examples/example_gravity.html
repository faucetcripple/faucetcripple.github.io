<!DOCTYPE html>
<html lang="ENG">
<head>
    <meta charset="utf-8">
    <title>World Gravity</title>
    <meta name="author" content="d74g0n">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="examples.css">
    <link rel="stylesheet" href="">
    <link rel="icon" type="image/x-icon" href="../favicon.ico" />

</head>
<script src="//cdn.jsdelivr.net/npm/phaser@3.54.0/dist/phaser.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/matter-js/0.14.2/matter.js"></script>
<script src="//pagecdn.io/lib/ace/1.4.12/ace.js" crossorigin="anonymous" integrity="sha256-Q9hnBpgBFstzZOr+OKFOWZWfcF5nFXO8Qz48Nmndo6U="></script>

<body>
    </br>
    <center><span id="title">-={ WORLD GRAVITY }=-</span></center>
    <script src="example_gravity.js"></script>
    <div id="game"></div>
    </br>
    <center><span id="infobar">-=[ MOUSE INTERACTIVE ]=-</span></center>
    <div id="editor">
        var config = {
        type: Phaser.AUTO,
        width: 640,
        height: 360,
        parent: 'game',
        pixelArt: true,
        backgroundColor: "#151525",
        scene: {
        preload: preload,
        create: create,
        update: update
        },
        physics: {
        default: "matter",
        matter: {
        debug: false
        }
        }
        };

        var game = new Phaser.Game(config);

        function preload() {
        this.load.image('bin', 'sprites/wastebin.png');
        this.load.image('ball', 'sprites/ball_white.png');
        }


        function create() {
        this.matter.world.setBounds(0, 0, game.config.width, game.config.height);

        for (var i = 0; i < 164; i++) { var ball=this.matter.add.image(Phaser.Math.Between(0, 640), Phaser.Math.Between(0, 100), 'ball' ); ball.setCircle(5); ball.setBounce(1); ball.setScale(2); ball.tint=Math.random() * 0xffffff; } for (var i=0; i < 32; i++) { var bin=this.matter.add.image(Phaser.Math.Between(32, 640), Phaser.Math.Between(0, 100), 'bin' ); bin.setScale(2); bin.tint=Math.random() * 0xffffff; ball.setMass(1+Math.random()*100); } this.matter.add.mouseSpring(); } let framea=0; let frameb=0; function update() { // framea +=0.01; // frameb +=0.01; framea +=0.04; frameb +=0.005; this.matter.world.engine.world.gravity.x=(Math.sin(framea) * 2); this.matter.world.engine.world.gravity.y=(Math.cos(frameb) * 2); } </div>

            <center><span id="infobottom">-=[ Phaser3 Matter.js Physics Gravity ]=-</span></center>

            <script src="editor_style.js"></script>
</body></html>
